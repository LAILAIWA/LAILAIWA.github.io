---
title: Hexo+GitHub搭建个人博客 (二) 部署项目
date: 2018-07-28 09:50:42
tags: [hexo,git]
categories: 搭建博客
photos: 
    - "https://pic-1258215793.cos.ap-shanghai.myqcloud.com/cover/minapple___BcADI-qhMsK___.jpg"
---
*在部署的过程中出现了很多问题，所以我尽量把这些BUG和解决方法也记录下来，希望吸取经验在以后的编程上避免这些问题*
# **五、浏览博客效果**
打开Git终端，在blog目录下执行以下命令
>$ hexo s #等价于hexo server

若执行成功，会输出

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280107.png "")

记住就算换行也要补一个空格

---------------------------------------
# **六、配置GitHub**
1. 测试终端是否存在SSH key
>$ ls -al ~/.ssh

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280108.png "")

结果如图则表示没有配置SSH key，若配置key可跳过下个步骤

2. 生成SSH key
>$ ssh-keygen -t rsa -b 4096 -C “XXXX@XX.com” 注意大小写
 
![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280109.png "")

3. 添加SSH key到ssh-agent中
>$ eval “$(ssh-agent -s)”

>$ ssh-add ~/.ssh/id-rsa

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280110.png "")

4. 复制SSH key到本地

pbcopy命令
>$ pbcopy < ~/.ssh/id_rsa.pub

若不支持pbcopy命令，使用cat命令读取到终端，再复制key

>$ cat < ~/.ssh/id_rsa.pub

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280111.png "")

``` 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCz5dShvsj2rB6FS42kwSR5H+UXMVHgrUIuAkWfRyAM45PxGGEifax84N7oSIct9OIb6OcYAAb7I/t9U6kQDIB830xjQ/lp+LzW6XMDGBVBsGh8TUKkPvshErOJPSShMAPIFwSroNyW4+VYh9/c/JiNbNUXy2grfmwkgPKAYURD5xhQ2ZpvpikB0X/rz8M8VBNeedUj9ZW9hv3RV89R50776PzkmbXMgB39B4bnfUjx2M0dji+Ic+Tud1XoXflYrdwQz7HC2apHHG8gx2NOi8Y/K7+mFGVodSfKinoMGTHvppKieCeveNtzxo/1YwFSm63nkFBixe7VHOoLuY+3Rfjp7GVxRQMmg32pu+JW3lBX2e0ebXsWDqVNPBTF9DwAKrTvrkMsEjwiOEYjWlqTgK7ozsaSkGIIoWRglviu6Drqu7JtVb7EfvGdzRo3AnNJ2DeRo7ipRKaTRw8+cJa+Npfuh6u0yQHv8tgxfuVM3j7yUwG3OOlcsY4mVLU7nXcKXBp7uOTOMBH0Kjig6D3tLEDOqI8cpxERXnJw9QbuCvLFaYHjlSCzIIvixJ0xoizMCiyJFXS4yWVYeqGggcrqrdIIz1H9n0MGSbyxCMFxVhHP1jvrxounoyyfgvOHmc1UFOaeKUPFiv8UiGZxKeclQpdDtA9F05PKao1U/jikaYsWmw== 'linyishui168@outlook.com'
```
5. 将复制的SSH key添加到GitHub中
6. 执行命令测试是否添加成功
>$ ssh -T git@github.com

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280112.png "")

7. 创建一个Repository托管博客

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280113.png "")

---------------------------------------
# **七、配置Hexo部署到GitHub**
Hexo提供了hexo-deployer-git组件方便部署到GitHub
1. 配置Deploy插件-根目录_config.yml 文件
```          
 # Deployment
deploy:
  type: git                                                    # 设置发布类型，如git
  repository: git@github.com:LAILAIWA/LAILAIWA.github.io.git   # 设置repository对应的链接
  branch: master                                               # 设置提交到的分支
  message: Site update at {{ now("YYYY-MM-DD HH:mm:ss") }}     # 设置我们提交的信息
```
2. 发布

执行命令生成博客的静态页面
>$ hexo g # 等价于hexo generate

执行命令将静态页面上传到GitHub
>$ hexo d # 等价于hexo deploy

打开浏览器访问LAILAIWA.github.io访问部署的博客，每次添加新的博客，重复执行前两个命令即可
删除命令，删除已生成的静态页面
>$ hexo clean

执行命令1，出现BUG，发现没在项目路径下执行

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280114.png "")

更换路径，又有BUG，尝试删除链接中的空格，解决

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280115.png "")

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280116.png "")

执行命令2，又有BUG

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280117.png "")

应该是插件未部署成功，执行命令
>npm install hexo-deployer-git --save

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280118.png "")

又又又出现BUG，应该是Git未登陆

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280119.png "")
 
可以用命令全局登陆
>git config --global user.email “linyishui168@outlook.com”

>git config --global user.name “LAILAIWA”

或改项目的配置文件只为当前项目登陆，在项目目录.git文件夹
[user]
或在.git文件夹下执行命令
>git config user.name = “xxx”


又又又有BUG出现

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280120.png "")
 
猜测可能是文件太大，调整一下
>git config --global http.postBuffer 524288000
BUG提示变化

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280121.png "")

不太明白，又部署了一下，结果成功了...黑人问号脸???
 
![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280122.png "")

部署成功，尝试访问一下

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280123.png "")

访问成功，但字符编码错误，样式也没加载成功，明天解决一下

记事本保存时编码格式选UTF-8
一直会出现连接不上Repository情况，可是SSH是配置好的阿？
尝试通过修改hosts的方法解决这个问题，在站长之家找个最快的地址，但不太靠谱，都PING不通，在网上找到一个地址还可以
>192.30.255.112    github.com

解决部署问题
但样式还是没加载出来

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280124.png "")

发现项目好像忘建子目录了，尝试修改配置文件，将子目录删除
```
url: http://yishui.github.io/blog
root: /blog/
```
修改为
```
url: http://yishui.github.io
root: /
```
终于成功了，汗，有些丢人

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180728/201807280125.png "")

接下来把默认的主题换个好看点的



