---
title: Hexo+GitHub搭建个人博客 (五) 引入音乐播放器
date: 2018-08-03 20:35:56
tags: [hexo]
categories: 搭建博客
photos: 
    - "https://pic-1258215793.cos.ap-shanghai.myqcloud.com/cover/esther_heesch___BTl1LvkFDJX___.jpg"
---
{% aplayer "狂々撫子" "加藤有加利" 
"https://music-1258215793.cos.ap-shanghai.myqcloud.com/%E5%8A%A0%E8%97%A4%E6%9C%89%E5%8A%A0%E5%88%A9%20-%20%E7%8B%82%E3%80%85%E6%92%AB%E5%AD%90.mp3" "http://p1.music.126.net/fuw79Zbxi40ge7T2ryj8gA==/1416170982041290.jpg" "autoplay" %}

{% dplayer "url=https://video-1258215793.cos.ap-shanghai.myqcloud.com/BLACKPINK-DUDUDUDU.mp4"  "pic=http://pcvg28por.bkt.clouddn.com//share/jennierubyjane_3____utm_source=ig_share_sheet&igshid=aqx3upcg91qj___.jpg" "loop=yes" "theme=#FADFA3" "autoplay=false" "token=tokendemo" %}


*参考博客：https://www.jianshu.com/p/26a7fc7cc185
http://tc9011.com/2016/12/24/hexo添加音乐、high一下及一些坑/*

*因博客主未标明不可转载，若内容涉及侵权请及时告知，我会尽快修改和删除相关内容*

# **使用 Hexo 插件插入音乐/视频**

首先网易云的外链播放器可以直接写入博客的，但测试后发现有一些bug存在，加上网易云的资源版权问题，遂还是放弃了外链播放器，选择hexo插件封装的音乐播放器。

两个好用的hexo插件：
>hexo-tag-aplayer：https://github.com/grzhan/hexo-tag-aplayer)
>
>hexo-tag-dplayer： https://github.com/NextMoe/hexo-tag-dplayer

1. 安装播放音乐的aplayer
在cmd页面内，使用npm安装：
>npm install hexo-tag-aplayer

2. 在markdown内添加以下代码：
```
{% aplayer "music" "singer" "http://XXX.mp3" "http://XXX.jpg" "autoplay" %}
```

网易云是可以获取外链播放器的，所以我想能不能找到网易云的mp3资源文件链接

**获取网易云音乐外链方法：**

*参考文章：https://www.znian.cn/2249.html*

>1. 打开歌单页面，在“生成外链播放器”上右击，点击审查元素。
>2. 接着找到生成外链播放器这段文字直接双击复制前面的/outchain/0/436439854/（不要复制我的，你看看你自己的歌单ID）
>3. 然后把地址栏里的地址改一下，http://music.163.com/#这里后面加上刚才审查元素里获取的地址。（完整的就是：http://music.163.com/#/outchain/0/436439854/）

我测试了一个歌曲 https://music.163.com/#/outchain/2/490381195/ ，尝试发现虽然有外链播放器但歌曲无法播放，所以没法靠网易云的资源了，

尝试通过上传歌曲到七牛云，然后访问mp3文件播放歌曲
先安装配置七牛文件上传工具
>下载地址：https://github.com/qiniu/QSunSync

获取自己账号的AK&Sk代码

![](http://pcvg28por.bkt.clouddn.com/201808030201.png "")

新建同步任务

![](http://pcvg28por.bkt.clouddn.com/201808030202.png "")

虽然还是很慢，但至少可以用了

![](http://pcvg28por.bkt.clouddn.com/201808030203.png "")

![](http://pcvg28por.bkt.clouddn.com/201808030204.png "")

网易云音乐上获取歌曲封面

![](http://pcvg28por.bkt.clouddn.com/201808030205.png "")

在七牛云中获取歌曲外链

![](http://pcvg28por.bkt.clouddn.com/201808030206.png "")
 
最终代码如下：
```
{% aplayer "狂々撫子" "加藤有加利" 
"http://pcvwwmd5n.bkt.clouddn.com/%E5%8A%A0%E8%97%A4%E6%9C%89%E5%8A%A0%E5%88%A9%20-%20%E7%8B%82%E3%80%85%E6%92%AB%E5%AD%90.mp3" "http://p1.music.126.net/fuw79Zbxi40ge7T2ryj8gA==/1416170982041290.jpg" "autoplay" %}
```