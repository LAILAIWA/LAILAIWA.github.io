---
title: Hexo+GitHub搭建个人博客 (一) 环境搭建
date: 2018-07-27 18:08:31
tags: [hexo,git]
categories: 搭建博客
photos: 
    - "https://pic-1258215793.cos.ap-shanghai.myqcloud.com/cover/minapple____utm_source%3Dig_share_sheet%26igshid%3Dtumx.jpg"
---
{% aplayer "잔소리" "IU" 
"https://music-1258215793.cos.ap-shanghai.myqcloud.com/IU-%EC%9E%94%EC%86%8C%EB%A6%AC.mp3" "http://p2.music.126.net/tdnGI_Red2sstIoQCkq_Pg==/3262251001518002.jpg" "autoplay" %}
# **一、技术简述**
#### GitHub Pages
>GitHub中每个项目都有一个对应的主页，列出项目的源文件，GitHub设计了GitHub Pages允许用户自定义首页，替代默认的源代码列表，所以GitHub Pages可以看作托管在GitHub上的静态网页。

#### Hexo
>简单快捷高效的博客框架，使用Markdown解析文章,地址：https://hexo.io/zh-cn/
>
>Hexo+GitHub的优点：
>1. 免费，无限流量
>2. 享受版本管理功能
>3. 专注博客内容，其他事情交给GitHub即可
>
>缺点：静态网页，添加动态功能需要外部服务，没有数据库，每次运行需要遍历全部文本文件，不适合大型网站
>
>我这里使用VSCode来编写Markdown格式文章
---------------------------------------
# **二、环境搭建**

首先下载安装Git，NodeJS，Hexo
* Git地址：https://www.git-scm.com/downloads
* NodeJS地址：https://nodejs.org/download/

检查安装成功：

* 终端执行 
>$ git --version

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180727/201807270101.png "")
* CMD执行 
>node -v

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180727/201807270102.png "")

执行安装Hexo命令
>$ npm install hexo-cli -g

安装便于自动部署到GitHub上的插件
>$ npm install hexo-deployer-git --save

安装atom生成插件以便于其他人订阅
>$ npm install hexo-generator-feed --save

安装博客首页生成插件
>$ npm install hexo-generator-index --save

安装归档生成插件
>$ npm install hexo-generator-archive --save

安装tag生成插件
>$ npm install hexo-generator-tag --save

安装category生成插件
>$ npm install hexo-generator-category --save

安装Sitemap文件生成插件
>$ npm install hexo-generator-sitemap --save

安装百度Sitemap文件生成插件，普通的Sitemap文件不符合百度的格式要求
>$ npm install hexo-generator-baidu-sitemap --save
---------------------------------------
# **三、初始化博客**
1. 创建一个myblog文件夹
>$ mkdir myblog
2. 在目标文件夹建立博客所需所有文件
>$ hexo init xxxx

很卡：尝试用下列命令解决，但没有效果
>$ git config --global sendpack.sideband false 

hexo-blog目录会生成以下文件：
* scaffolds：脚手架，用来存放创建文章时的模板
* source：用于存放用MarkDown编写的博文原文件，其他的静态资源文件
* themes：用于存放主题，有默认主题landscape
* _config.yml：hexo和站点的配置文件，其中可以设置博客名字，标题，作者，链接格式

3. 执行以下命令进行依赖包安装
>$ sudo npm install

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180727/201807270103.png "")

感觉win系统cmd可能不支持sudo，去掉sudo问题解决

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180727/201807270104.png "")

执行成功后hexo-blog目录会增加一个模块
* node_modules：关联保存了将会使用到的hexo依赖包
---------------------------------------
# **四、配置博客**
参考链接：https://blog.csdn.net/xuezhisdc/article/details/53130383

## **Hexo配置**：
就是配置_config.yml文件，主要是对Hexo的配置以及站点的配置
1. **站点配置**：
```
# Site
title: cy的美好生活    # 网站标题
subtitle: life is beautiful like sunshine!    # 网站子标题
description: 这是一个利用Hexo搭建的博客    # 网站描述
author:  sihai   # 网站作者，也就是您的名字
language: zh-CN   # 网站使用的语言,这需要注意：看你的主题文件下的language包下有什么语言包就些什么。后面详细说明！        
timezone:         # 网站时区。Hexo 预设使用您电脑的时区。
```
2. **网址配置**：一般根据情况修改url和root即可
```
# URL
url: http://OUYANGISHAI.github.io       # 博客网址
 root: /                                # 网站根目录
permalink: :year/:month/:day/:title/    # 文章的永久链接格式 :year/:month/:day/:title/
permalink_defaults:                     # 永久链接中各部分的默认值
```
如果你的网站存放在子目录中，例如 http://ouyangsihai.github.io/blog, 则将url设为 http://ouyangsihai.github.io/blog， 并且把 root 设为/blog/。

3. **目录配置**：这个地方一般直接取默认值不用修改。
```
# Directory
source_dir: source         # 资源文件夹，这个文件夹用来存放内容，例如我们用markdown编写的博文
public_dir: public         # 公共文件夹，这个文件夹用于存放生成的静态博客文件。
tag_dir: tags              # 标签文件夹
archive_dir: archives      # 归档文件夹
category_dir: categories   # 分类文件夹
code_dir: downloads/code   # Include code 文件夹
i18n_dir: :lang            # 国际化（i18n）文件夹
skip_render:               # 跳过指定文件的渲染，您可使用 glob 来配置路径。
```
4. **文章配置**：这个地方一般直接取默认值不用修改。
```
# Writing
new_post_name: :title.md    # 新文章的文件名称
default_layout: post        # 预设布局
titlecase: false            # 把标题转换为 titlecase（titlecase指的是将每个单词首字母转换成大写）
external_link: true         # 在新标签中打开链接
filename_case: 0            # 把文件名称转换为 (1) 小写或 (2) 大写, 0表示不变
render_drafts: false        # 显示草稿
post_asset_folder: false    # 启动 Asset 文件夹
relative_link: false        # 把链接改为与根目录的相对位址
future: true                # 显示未来的文章
highlight:                  # 代码块的设置
  enable: true              
  line_number: true         # 是否显示行号
  auto_detect: true         # 是否自动监测
  tab_replace:              # 将 tab 替换成其他字符串
```
5. **分类和标签配置**：这个地方一般直接取默认值不用修改。
```
# Category & Tag
 default_category: uncategorized    # 默认分类, uncategorized表示未分类
 category_map:                      # 分类别名
 tag_map:                           # 标签别名
```
6. **日期以及时间格式配置**：
Hexo 使用 Moment.js 来解析和现实时间，一般我们直接取默认值不用修改。如果你想修改的话，可以按照 http://momentjs.com/docs/#/displaying/format/ 中定义的格式进行修改。
```
date_format: YYYY-MM-DD           # 日期格式
time_format: HH:mm:ss             # 时间格式
```
7. **分页配置**：这个地方一般根据自己的需求修改 per_page  设置每页显示的文章数量即可。
```
# Pagination
 per_page: 10                      # 每页显示的文章量，如果设置值为0，则表示禁止分野
 pagination_dir: page              # 分页目录
```
8. **主题配置**：一般从这里开始，都是属于Hexo拓展插件的配置了，下面这段是配置我们博客所要使用的主题名字，想要获取更多的主题，可以参考：http://hexo.io/themes/
```
# Extensions
 theme: landscape    # 主题设置，默认是 landscape
```
9. **部署配置**：这一块涉及到博客发布，将在下一篇博文中统一进行讲解，这里可以先不用修改配置
```
# Deployment
 deploy:
   type:     # 设置发布类型，如git，rsync
```
## **主题配置**：
就是配置themes/{主题名称}/_config.yml文件，主要是网站主题的配置，如需要显示的菜单，开启的组件等。
1. **菜单配置**：这里主要是对博客显示的菜单项的访问路径进行配置，
```
menu:
  home: / || home #首页
  categories: /categories/ || th #分类
  archives: /archives/ || archive #归档
  tags: /tags/ || tags #标签
  about: /about/ || user #关于
  #schedule: /schedule/ || calendar
  #sitemap: /sitemap.xml || sitemap
  #commonweal: /404/ || heartbeat
```
2. **显示内容配置**：这里主要对博客显示的内容进行设置，比如查看全文的按钮文本显示。
```
# Content
 excerpt_link: 阅读全文    # 设置查看全文的按钮显示文本
 fancybox: true           # 是否开启弹出层效果
```
3. **侧边栏配置**：主要是对侧边栏展现进行设置。
```
# Sidebar
sidebar: right    # 侧边栏展示的方向
widgets:          # 侧边栏添加的组件配置
- category        # 显示分类
- tag             # 显示标签
- tagcloud        # 显示标签云
- archive         # 显示归档
- recent_posts    # 显示最近发布
```
4. **其他配置**：第1点 和 第2点 都是大部分主题通用的配置，下面这些就是比较定制化的了。除了下面列出的，国内大部分主题都还会添加了百度统计的ID配置、多说的ID配置、Jiathis分享活着百度分享的配置等等。
```
# Miscellaneous
google_analytics: "UA-********-1"    # 谷歌统计的ID配置，如果你没有用到，可以为空
favicon: /favicon.png                # 网站图标路径
twitter:                             # twitter配置
google_plus:                         # google plus 配置
fb_admins:                           # facebook 配置
fb_app_id:
```
---------------------------------------
# **五、创建博文**
1. 进入博客的根目录，执行下列命令生成新的博文,执行后出现BUG

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180727/201807270105.png "")

修改了一些地方后成功通过

![](https://pic-1258215793.cos.ap-shanghai.myqcloud.com/content/20180727/201807270106.png "")


>$ hexo new hello-hexo # 格式：hexo new {文章名}

若命令执行成功，source/_posts目录下多一个hello-hexo.md文件，即日志Markdown文件

文件对应格式：
* title : 文章的标题
* date : 该文章的创建时间
* tags : 该文章的标记tag